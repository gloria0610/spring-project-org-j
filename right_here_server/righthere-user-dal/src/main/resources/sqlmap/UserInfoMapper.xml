<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.righthere.user.server.dal.mapper.UserInfoMapper">
    <resultMap id="BaseResultMap" type="com.righthere.user.server.dal.dataobject.UserInfoDO">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
          This element was generated on Wed May 28 22:07:06 CST 2014.
        -->
        <id column="id" property="userId" jdbcType="VARCHAR"/>
        <result column="account_id" property="accountId" jdbcType="VARCHAR"/>
        <result column="telephone" property="telephone" jdbcType="VARCHAR"/>
        <result column="regist_time" property="registTime" jdbcType="TIMESTAMP"/>
        <result column="first_login_time" property="firstLoginTime" jdbcType="TIMESTAMP"/>
        <result column="user_code" property="userCode" jdbcType="VARCHAR"/>
        <result column="invite_code" property="inviteCode" jdbcType="VARCHAR"/>
        <result column="check_open_account" property="checkOpenAccount" jdbcType="INTEGER"/>
        <result column="status" property="status" jdbcType="INTEGER"/>
    </resultMap>

    <sql id="Base_Column_List">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
          This element was generated on Wed May 28 22:07:06 CST 2014.
        -->
      id,account_id,telephone,regist_time,first_login_time,user_code,invite_code,check_open_account,status
    </sql>


    <!--根据手机号,查询用户id信息-->
    <select id="getUserIdByTel" parameterType="String" resultType="String">
        /*+TDDL_GROUP({groupIndex:0})*/
        select
        id
        from gbanker_user.user_basic
        where telephone=#{telephone,jdbcType=VARCHAR};
    </select>

    <!--根据手机,查询账户Id信息-->
    <select id="getAccountIdByTel" parameterType="String" resultType="String">
        /*+TDDL_GROUP({groupIndex:0})*/
        select
        account_id
        from gbanker_user.user_basic
        where telephone=#{telephone,jdbcType=VARCHAR};
    </select>

    <!--根据手机,查询注册时间-->
    <select id="getRegistTime"  parameterType="String" resultType="Date">
        /*+TDDL_GROUP({groupIndex:0})*/
        select
        regist_time
        from gbanker_user.user_basic
        where telephone=#{telephone,jdbcType=VARCHAR};
    </select>

    <!--根据手机,查询账户签章状态check_open_account-->
    <select id="getOpenAccount" parameterType="String" resultType="INTEGER">
        /*+TDDL_GROUP({groupIndex:0})*/
        select
        check_open_account
        from gbanker_user.user_basic
        where telephone=#{telephone,jdbcType=VARCHAR};
    </select>

    <!--根据手机,查询用户签章状态status-->
    <select id="getStatus" parameterType="String" resultType="INTEGER">
        /*+TDDL_GROUP({groupIndex:0})*/
        select
        status
        from gbanker_user.user_basic
        where telephone=#{telephone,jdbcType=VARCHAR};
    </select>

    <!--&lt;!&ndash;根据手机,查询信息&ndash;&gt;-->
    <!--<select id="getUserInfo"  parameterType="String" resultType="BaseResultMap">-->
        <!--/*+TDDL_GROUP({groupIndex:0})*/-->
        <!--select-->
        <!--<include refid="Base_Column_List"/>-->
        <!--from gbanker_user.user_basic-->
        <!--where telephone=#{telephone,jdbcType=VARCHAR};-->
    <!--</select>-->



</mapper>